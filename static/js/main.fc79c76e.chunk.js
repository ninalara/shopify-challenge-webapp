(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var i=n(0),o=n(1),c=n.n(o),s=n(6),r=n.n(s),d=(n(14),n(15),n(8)),a=n(7),j=n(3),l=function(e){var t=Object(o.useState)({status:"init",payload:void 0}),n=Object(j.a)(t,2),i=n[0],c=n[1];return" "===e.slice(-1)&&(e=e.slice(0,-1)),Object(o.useEffect)((function(){0!==e.length&&(c({status:"loading",payload:void 0}),fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=1a937fbc")).then((function(e){return e.json()})).then((function(e){return c({status:"loaded",payload:e.Search})})).catch((function(e){return c({status:"error",error:e})})))}),[e]),console.log(i),i},u=function(){return Object(i.jsx)("p",{children:"loading..."})},h=function(e){var t=e.movie;return Object(i.jsxs)("div",{children:[Object(i.jsx)("img",{width:"100",src:t.Poster}),Object(i.jsxs)("p",{children:[t.Title," (",t.Year,")"]})]})},b=function(e){var t=e.searchResult,n=e.nominatedMovies,o=e.onAddNominatedMovie,c=5===n.length;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsx)(h,{movie:t})}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{type:"button",onClick:function(){t.isNominated=!0,o(t)},disabled:t.isNominated||c,children:"Nominate"})})]})},O=function(e){var t=e.searchedTitle,n=e.nominatedMovies,o=e.onAddNominatedMovie,c=l(t),s=[];return"loaded"===c.status&&void 0!==c.payload&&(!function(e){e.filter((function(e){return"movie"===e.Type})),e.forEach((function(e){var t=void 0!==n.find((function(t){return t.imdbID===e.imdbID}));e.isNominated=t,s.push(Object(i.jsx)(b,{searchResult:e,nominatedMovies:n,onAddNominatedMovie:o},e.imdbID))}))}(c.payload),console.log(c.payload)),Object(i.jsxs)("table",{children:[Object(i.jsx)("th",{children:"Search Results"}),Object(i.jsxs)("tbody",{children:["loading"===c.status&&Object(i.jsx)(u,{}),"loaded"===c.status&&void 0!==c.payload&&s,"loaded"===c.status&&void 0===c.payload&&t.length>=3&&Object(i.jsx)("p",{children:"no results found"}),"loaded"===c.status&&t.length<3&&Object(i.jsx)("p",{children:"too many results please specify"}),"error"===c.status&&Object(i.jsxs)("p",{children:["Error, something weird happened with the search. ",c.error]})]})]})},v=function(e){var t=e.searchedTitle,n=e.onSearchedTitleChange;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("label",{children:"Movie Title"}),Object(i.jsx)("form",{children:Object(i.jsx)("input",{type:"text",value:t,onChange:function(e){e.preventDefault(),n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})})]})},f=function(e){var t=e.nominatedMovie,n=e.onRemove;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:Object(i.jsx)(h,{movie:t})}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{type:"button",onClick:function(){t.isNominated=!1,n(t)},children:"Remove"})})]})},x=function(e){var t=e.nominatedMovies,n=e.onRemove,o=[];return void 0!=t&&t.forEach((function(e){o.push(Object(i.jsx)(f,{nominatedMovie:e,onRemove:n},e.imdbID))})),Object(i.jsxs)("table",{children:[Object(i.jsx)("th",{children:"Nominations"}),Object(i.jsx)("tbody",{children:o})]})},m=function(){var e=c.a.useState(""),t=Object(j.a)(e,2),n=t[0],o=t[1],s=c.a.useState([]),r=Object(j.a)(s,2),l=r[0],u=r[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"The Shoppies"}),Object(i.jsx)(v,{searchedTitle:n,onSearchedTitleChange:function(e){o(e)}}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("tbody",{children:Object(i.jsx)(O,{searchedTitle:n,nominatedMovies:l,onAddNominatedMovie:function(e){u([].concat(Object(a.a)(l),[Object(d.a)({},e)]))}})}),Object(i.jsx)("th",{children:" "}),Object(i.jsx)("tbody",{children:Object(i.jsx)(x,{nominatedMovies:l,onRemove:function(e){u(l.filter((function(t){return t.imdbID!==e.imdbID})))}})})]})]})};var p=function(){return Object(i.jsx)("div",{className:"App",children:Object(i.jsx)(m,{})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,i=t.getFID,o=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),i(e),o(e),c(e),s(e)}))};n(16);r.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(p,{})}),document.getElementById("root")),g()}},[[17,1,2]]]);
//# sourceMappingURL=main.fc79c76e.chunk.js.map