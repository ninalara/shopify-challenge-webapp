(this["webpackJsonpthe-shoppies"]=this["webpackJsonpthe-shoppies"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(0),c=n(1),a=n.n(c),i=n(6),o=n.n(i),r=(n(14),n(15),n.p+"static/media/logo.dd7bdb9e.png"),d=function(){return Object(s.jsx)("div",{className:"header row",children:Object(s.jsx)("div",{className:"col-12",children:Object(s.jsx)("img",{width:"250",src:r})})})},l=n(8),j=n(7),u=n(2),h=function(e){var t=Object(c.useState)({status:"init",payload:void 0}),n=Object(u.a)(t,2),s=n[0],a=n[1];return" "===e.slice(-1)&&(e=e.slice(0,-1)),Object(c.useEffect)((function(){0!==e.length&&(a({status:"loading",payload:void 0}),fetch("https://www.omdbapi.com/?s=".concat(e,"&apikey=1a937fbc")).then((function(e){return e.json()})).then((function(e){return a({status:"loaded",payload:e.Search})})).catch((function(e){return a({status:"error",error:e})})))}),[e]),console.log(s),s},b=function(){return Object(s.jsx)("p",{children:"loading..."})},m=function(e){var t=e.searchResult,n=e.nominatedMovies,a=e.onAddNominatedMovie,i=Object(c.useState)(!1),o=Object(u.a)(i,2),r=o[0],d=o[1],l="";l=t.Title.length>17?t.Title.substring(0,17)+"...":t.Title;var j=5===n.length;return Object(s.jsxs)("div",{className:"searchResult col",children:[Object(s.jsx)("img",{width:"100",src:t.Poster}),Object(s.jsx)("div",{className:"input-group button",children:Object(s.jsxs)("label",{className:"customCheckbox",children:[Object(s.jsx)("input",{type:"checkbox",onChange:function(e){d(e.target.checked),t.isNominated=r,a(t)},disabled:t.isNominated||j}),Object(s.jsx)("i",{className:"fa fa-star"})]})}),Object(s.jsxs)("div",{className:"title",children:[l," ",Object(s.jsx)("p",{children:t.Year})]})]})},v=n.p+"static/media/defaultPoster.723dc18d.png",O=function(e){var t=e.searchedTitle,n=e.nominatedMovies,c=e.onAddNominatedMovie,a=h(t),i=[];return"loaded"===a.status&&void 0!==a.payload&&(!function(e){(e=e.filter((function(e){return"movie"===e.Type}))).forEach((function(e){var t=void 0!==n.find((function(t){return t.imdbID===e.imdbID}));e.isNominated=t,"N/A"===e.Poster&&(e.Poster=v),i.push(Object(s.jsx)(m,{searchResult:e,nominatedMovies:n,onAddNominatedMovie:c},e.imdbID))}))}(a.payload),console.log(a.payload)),Object(s.jsxs)(s.Fragment,{children:["loading"===a.status&&Object(s.jsx)(b,{}),Object(s.jsx)("div",{className:"image-grid-container",children:"loaded"===a.status&&void 0!==a.payload&&i}),"loaded"===a.status&&void 0===a.payload&&t.length>=3&&Object(s.jsx)("p",{children:"no results found"}),"loaded"===a.status&&t.length<3&&Object(s.jsx)("p",{children:"too many results please specify"}),"error"===a.status&&Object(s.jsxs)("p",{children:["Error, something weird happened with the search. ",a.error]})]})},f=function(e){var t=e.searchedTitle,n=e.onSearchedTitleChange;return Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-4"}),Object(s.jsx)("div",{className:"input-group col-4 searchBar",children:Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Search a movie title","aria-label":"Search","aria-describedby":"basic-addon1",value:t,onChange:function(e){e.preventDefault(),n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&e.preventDefault()}})}),Object(s.jsx)("div",{className:"col-4"})]})},p=function(e){var t=e.nominatedMovie,n=e.onRemove;return Object(s.jsxs)("div",{className:"row nomination",children:[Object(s.jsx)("button",{type:"button",className:"btn-close",onClick:function(){t.isNominated=!1,n(t)},children:"x"}),Object(s.jsxs)("p",{children:[t.Title," "]}),"(",t.Year,")"]})},x=function(e){var t=e.nominatedMovies,n=e.onRemove,c=[];void 0!=t&&t.forEach((function(e){c.push(Object(s.jsx)(p,{nominatedMovie:e,onRemove:n},e.imdbID))}));var a=5===t.length;return Object(s.jsxs)("div",{className:"nominationTable",children:[a&&Object(s.jsx)("div",{className:"alert alert-warning alert-dismissible fade show",role:"alert",children:"You've chosen your 5 nominations!"}),Object(s.jsxs)("p",{children:["NOMINATIONS (",t.length,")"]}),c]})},g=function(){var e=a.a.useState(""),t=Object(u.a)(e,2),n=t[0],c=t[1],i=a.a.useState([]),o=Object(u.a)(i,2),r=o[0],d=o[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(f,{searchedTitle:n,onSearchedTitleChange:function(e){c(e)}}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col-6",children:Object(s.jsx)(O,{searchedTitle:n,nominatedMovies:r,onAddNominatedMovie:function(e){d([].concat(Object(j.a)(r),[Object(l.a)({},e)]))}})}),Object(s.jsx)("div",{className:"col-1"}),Object(s.jsx)("div",{className:"col-3",children:Object(s.jsx)(x,{nominatedMovies:r,onRemove:function(e){d(r.filter((function(t){return t.imdbID!==e.imdbID})))}})}),Object(s.jsx)("div",{className:"col-1"})]})]})};var N=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"}),Object(s.jsx)(d,{}),Object(s.jsx)(g,{})]})},y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,s=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),s(e),c(e),a(e),i(e)}))};n(16);o.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(N,{})}),document.getElementById("root")),y()}},[[17,1,2]]]);
//# sourceMappingURL=main.2e27d415.chunk.js.map